import{d as v,u as b,p as h,r as y,m as g,g as w,f as d,h as $,c as r,a as e,w as k,b as C,v as E,n as s,t as u,l as c,i as A,j as B,F as S,o as l,e as V}from"./index-0a1a9a14.js";import{u as N,r as j,e as R}from"./index-a25acce8.js";const T=e("div",{class:"mx-auto max-w-screen-xl mt-3 mb-5"},[e("div",{class:"sm:flex sm:items-center sm:justify-between"},[e("div",{class:"text-center sm:text-left"},[e("h1",{class:"text-2xl font-bold text-gray-900 sm:text-3xl"}," Edit Admin User ")])])],-1),U={class:"text-left border-t my-8 text-sm"},q=["onSubmit"],D={class:"w-full"},M=e("label",{for:"Email",class:"w-full text-sm font-medium text-gray-700"}," Email ",-1),z={key:0,class:"text-sm text-red-700"},F={key:1,class:"text-sm text-red-700"},I={class:"mt-5 flex w-full items-center"},J=["disabled"],K=v({__name:"AdminUserEdit",setup(O){const p=b(),_=h(),i=y({email:"",id:""}),f=g(()=>({email:{required:j,email:R,$autoDirty:!0}}));w(async()=>{const o=_.params.admin_user_id,a=localStorage.getItem("token"),n=await d.get("/api/admin-users/"+o,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});i.value=n.data});const t=N(f,i),x=async()=>{const o={email:i.value.email},a=localStorage.getItem("token");(await d.put("/api/admin-users/"+i.value.id,JSON.stringify(o),{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}})).data.id&&p.push({name:"admin-users-list"})};return(o,a)=>{const n=$("router-link");return l(),r(S,null,[T,e("div",U,[e("form",{onSubmit:k(x,["prevent"]),action:"#",class:"mt-3 w-full"},[e("div",D,[M,C(e("input",{type:"email","onUpdate:modelValue":a[0]||(a[0]=m=>i.value.email=m),autofocus:"",id:"Email",name:"email",onBlur:a[1]||(a[1]=m=>s(t).email.$touch()),class:"mt-1 block w-full rounded-md border-gray-200 bg-white text-sm text-gray-700 shadow-sm"},null,544),[[E,i.value.email]]),s(t).email.$error&&s(t).email.required.$invalid?(l(),r("div",z,u(s(t).email.required.$message),1)):c("",!0),s(t).email.$error&&s(t).email.email.$invalid?(l(),r("div",F,u(s(t).email.email.$message),1)):c("",!0)]),e("div",I,[A(n,{class:"mr-auto btn btn-default",to:{name:"admin-users-list"}},{default:B(()=>[V(" Cancel ")]),_:1}),e("button",{type:"submit",disabled:!s(t).$dirty||s(t).$error,class:"btn btn-primary"}," Edit Admin User ",8,J)])],40,q)])],64)}}});export{K as default};
