{{#*inline "page_content"}}
<div
    class="border-b border-gray-300 px-6 py-2 shadow-sm  text-xl font-bold">
    <div class="h-14 min-h-fit sm:flex sm:items-center sm:justify-between">
        <div>
            <div class="flex items-center">
                <h2
                    class="text-lg font-medium text-gray-800 dark:text-white">
                    {{translate_key "create_component" ~}}
                </h2>
            </div>
        </div>
    </div>

</div>

<div>
    <!-- -->
    <div class="px-4">
        <form action="/admin/store-component" method="post">
            <div
                class="mb-6 ">
                <div
                    class="grid gap-4 mt-5 p-5 gap-y-2 text-sm grid-cols-1 lg:grid-cols-4">
                    <div class="text-gray-600 col-span-4 lg:col-span-1">
                        <p class="font-medium text-lg">
                            {{ translate_key "personal_details" ~}} 
                        </p>
                        <p>
                            {{ translate_key "please_fill_out_all_the_fields" ~}} 
                        </p>
                    </div>

                    <div class="col-span-4 lg:col-span-3">
                        <div class="grid gap-4 gap-y-2 text-sm grid-cols-1 md:grid-cols-6">
                            <div class="md:col-span-6">
                                {{> components/label 
                                    label=(translate_key "name")
                                    for="name"
                                }}
                                <div class="mt-1">
                                    
                                    {{> components/input 
                                        type="text"
                                        name="name"
                                        value=""
                                        is_required=false
                                        class=""
                                        placeholder=(translate_key "enter_name")
                                    }}

                                    
                                </div>
                                {{#if validation_error_full_name  }}
                                    {{> components/input-error 
                                        error_message=validation_error_full_name
                                    }}
                                {{/if}}
                            </div>

                            <div class="md:col-span-6">
                                {{> components/label 
                                    label=(translate_key "identifier")
                                    for="identifier"
                                }}
                                <div class="mt-1">
                                    
                                    {{> components/input 
                                        type="text"
                                        name="identifier"
                                        value=""
                                        is_required=false
                                        class=""
                                        placeholder=(translate_key "enter_identifier")
                                    }}

                                    
                                </div>
                                {{#if validation_error_identifier  }}
                                    {{> components/input-error 
                                        error_message=validation_error_identifier
                                    }}
                                {{/if}}
                            </div>
                          
                            <div class="md:col-span-6 mt-5" x-data="field_builder">
                                <input type="hidden" name="test" value='{"test": {"field_name" :"test", "field_type": "text", "field_value": "seo title" } }' />
                                <input type="hidden" name="field_names" x-model="getItemNameValue" value="" />
                                <input type="hidden" name="field_identifiers"  x-model="getItemIdentifierValue" value="" />
                                <input type="hidden" name="field_types"  x-model="getItemTypeValue" value="" />

                                <template x-for="(item, index) in data" :key="item.identifier">
                                    <div class="bg-slate-50 rounded mb-5 shadow px-5 py-3 w-full">
                                        <div class="flex items-center w-full">
                                            <div class="font-semibold leading-tight flex-1">
                                                
                                                <div>
                                                    <label class="text-sm text-gray-600">
                                                        {{translate_key "field_type" ~}}
                                                    </label>
                                                </div>
                                                <div class="mt-2">
                                                    <select x-on:change="setFieldType($event, item.identifier)">
                                                        <option value="">
                                                            {{ translate_key "please_select" ~}}
                                                        </option>
                                                        <option value="text">
                                                            {{ translate_key "text" ~}}
                                                        </option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="ml-auto">
                                                <i data-feather="trash" class="h-4 w-4"></i>
                                            </div>
                                        </div>
                                        <template x-if="item.type === 'text'">
                                            <div  class="mt-3">
                                                <div class="grid grid-cols-2 gap-3">
                                                    
                                                    <div class="col-span-1">
                                                        <label x-bind:for="`field_name_${item.identifier}`" 
                                                            class="text-sm text-gray-600">
                                                            {{translate_key "field_name" ~}}
                                                        </label>
                                                        
                                                        <div class="mt-1">
                                                            <input
                                                                x-on:change="setFieldNameValue($event, item.identifier)"
                                                                x-bind:id="`field_name_${item.identifier}`" 
                                                                value=""
                                                                type="text" 
                                                                class="appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm focus:z-10"
                                                            />
                                                        </div>
                                                    </div>

                                                    <div class="col-span-1">
                                                        <label x-bind:for="`field_identifier_${item.identifier}`"  
                                                            class="text-sm text-gray-600">
                                                            {{translate_key "field_identifier" ~}}
                                                        </label>
                                                        
                                                        <div class="mt-1">
                                                            <input
                                                                x-on:change="setFieldIdentifierValue($event, item.identifier)"
                                                                x-bind:id="`field_identifier_${item.identifier}`" 
                                                                value=""
                                                                type="text" 
                                                                class="appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm focus:z-10"
                                                            />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </template>
                                    </div>
                                </template>

                                <button type="button" class="bg-primary-500 mt-3 text-white px-4 py-2 rounded"
                                    @click="addFieldButtonOnClick">
                                    Add Field
                                </button>
                                
                            </div>

                            <div class="md:col-span-6 mt-5 text-right">
                                <div class="inline-flex items-end">
                                    <button type="submit"
                                        class="w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500">
                                        {{ translate_key "submit" ~}}
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
<div class="hidden">
    <i data-feather="trash" class="h-4 w-4"></i>
</div>
{{/inline}}

{{> layout/app}}
